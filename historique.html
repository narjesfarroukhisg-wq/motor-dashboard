<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Historique - Motor Supervision</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#0f172a;
    color:white;
    padding:20px;
}
h2{margin-bottom:20px;}
table{
    width:100%;
    border-collapse:collapse;
    background:#1e293b;
}
th,td{
    padding:12px;
    text-align:center;
    border-bottom:1px solid #334155;
}
th{background:#334155;}
tr:hover{background:#475569;}
.btn{
    margin-bottom:20px;
    padding:8px 15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#2563eb;
    color:white;
}
</style>
</head>

<body>

<button class="btn" onclick="window.history.back()">⬅ Retour Live</button>

<h2>Historique des Données</h2>

<table id="historyTable">
<tr>
<th>Date</th>
<th>Heure</th>
<th>Température (°C)</th>
<th>Courant (A)</th>
<th>Tension (V)</th>
<th>Vibration (mm/s)</th>
</tr>
</table>

<script>

let history = JSON.parse(localStorage.getItem("motorHistory")) || [];
let table = document.getElementById("historyTable");

history.forEach(function(record){

    let row = table.insertRow();

    row.insertCell(0).innerHTML = record.date;
    row.insertCell(1).innerHTML = record.time;
    row.insertCell(2).innerHTML = record.temp;
    row.insertCell(3).innerHTML = record.current;
    row.insertCell(4).innerHTML = record.voltage;
    row.insertCell(5).innerHTML = record.vibration;

});

</script>

</body>
</html>